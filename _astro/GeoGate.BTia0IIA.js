import{j as l}from"./jsx-runtime.D_zvdyIk.js";import{r as u}from"./index.BVOCwoKb.js";const h=[{label:"Paris",lat:48.8566,lon:2.3522},{label:"Berlin",lat:52.52,lon:13.405},{label:"Nice",lat:43.7102,lon:7.262}],f=1e3;function g(n,o,t,c){const e=s=>s*Math.PI/180,r=e(t-n),i=e(c-o),a=Math.sin(r/2)**2+Math.cos(e(n))*Math.cos(e(t))*Math.sin(i/2)**2;return 6371e3*2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function x({children:n}){const[o,t]=u.useState(null);return u.useEffect(()=>{if(new URL(window.location.href).searchParams.get("agent")==="2706"){t(!0);return}if(!navigator.geolocation){t(!1);return}navigator.geolocation.getCurrentPosition(e=>{const{latitude:r,longitude:i}=e.coords,a=h.some(s=>g(r,i,s.lat,s.lon)<=f);t(a)},()=>{t(!1)},{enableHighAccuracy:!0,timeout:5e3})},[]),o===null?l.jsx("div",{className:"loading-text",children:"GPS Check..."}):o?n:l.jsx("div",{className:"loading-text",children:"Geo Restricted"})}export{x as default};
