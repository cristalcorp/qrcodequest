import{r as n}from"./index.BVOCwoKb.js";var g={exports:{}},m={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R;function C(){if(R)return m;R=1;var d=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function a(u,e,o){var p=null;if(o!==void 0&&(p=""+o),e.key!==void 0&&(p=""+e.key),"key"in e){o={};for(var c in e)c!=="key"&&(o[c]=e[c])}else o=e;return e=o.ref,{$$typeof:d,type:u,key:p,ref:e!==void 0?e:null,props:o}}return m.Fragment=l,m.jsx=a,m.jsxs=a,m}var I;function L(){return I||(I=1,g.exports=C()),g.exports}var s=L();function k(){const[d,l]=n.useState(!1),a=4e3,u=2e4;return n.useEffect(()=>{const e=setInterval(()=>{l(!0),setTimeout(()=>l(!1),a)},u);return()=>clearInterval(e)},[]),d?s.jsx("div",{className:"scanline-animated"}):null}function M(){const[d,l]=n.useState({lat:null,lon:null,label:null,method:null});return n.useEffect(()=>{const a=async()=>{try{const e=await(await fetch("https://ipapi.co/json/")).json();l({lat:e.latitude,lon:e.longitude,label:`${e.city}, ${e.country_name}`,method:"ip"})}catch{l({lat:null,lon:null,label:null,method:null})}};if(!navigator.geolocation)return a();navigator.geolocation.getCurrentPosition(u=>{const{latitude:e,longitude:o}=u.coords;l({lat:e,lon:o,label:`${e.toFixed(3)}, ${o.toFixed(3)}`,method:"gps"})},()=>{a()},{timeout:3e3})},[]),d}const P=[{id:1,lang:"fr",title:"POINT AVEUGLE",steps:["Trouve un poste dâ€™observation discret ou en hauteur.","Observe les flux, les mouvements, les hÃ©sitations.","RepÃ¨re une personne hors tempo, hors cadre.","Ralentis ta respiration jusquâ€™Ã  disparaÃ®tre.","Rejoins la foule en silence, comme si de rien nâ€™Ã©tait."]},{id:1,lang:"en",title:"BLIND SPOT",steps:["Find a discreet or elevated observation post.","Observe the flows, movements, and hesitations.","Spot someone off-beat, out of frame.","Slow your breathing until you vanish.","Rejoin the crowd in silence, as if nothing happened."]},{id:2,lang:"fr",title:"COULEUR CIBLE",steps:["Choisis une couleur. Marche jusquâ€™Ã  ce quâ€™elle apparaisse.","Observe celle ou celui qui la porte. Posture ? Allure ?","Synchronise ton pas sans jamais suivre.","Quand la couleur sâ€™Ã©vanouit, capture ce qui reste.","Que dit cette image de toi aujourdâ€™hui ?"]},{id:2,lang:"en",title:"TARGET COLOR",steps:["Choose a color. Walk until it appears.","Observe the person wearing it. Posture? Pace?","Synchronize your steps without following.","When the color disappears, capture what's left.","What does this image say about you today?"]},{id:3,lang:"fr",title:"RÃ‰PÃ‰TITION FANTÃ”ME",steps:["Avance jusquâ€™Ã  percevoir un motif rÃ©pÃ©tÃ© trois fois.","Ã€ chaque Ã©cho, progresse de 10 mÃ¨tres.","Si le motif cesse, ferme les yeux 30 secondes.","Suis le son le plus prÃ©sent, sans rÃ©flÃ©chir.","ArrivÃ©Â·e, note ce que ton corps ressent."]},{id:3,lang:"en",title:"GHOST REPETITION",steps:["Walk until you perceive a pattern repeated three times.","With each echo, advance 10 meters.","If the pattern fades, close your eyes for 30 seconds.","Follow the strongest sound, without thinking.","Once arrived, note what your body feels."]},{id:4,lang:"fr",title:"OBJETS PERDUS",steps:["RepÃ¨re un objet oubliÃ©, solitaire.","Observe-le longuement, comme une trace.","Invente son histoire, sa derniÃ¨re mission, sa chute.","Ã‰cris une courte fiction ou laisse un message Ã  cÃ´tÃ©.","Tu viens dâ€™activer un rÃ©cit dormant."]},{id:4,lang:"en",title:"LOST OBJECTS",steps:["Spot a forgotten, solitary object.","Observe it intently, as if a trace.","Invent its story â€” last mission, downfall, abandonment.","Write a short fiction or leave a message nearby.","Youâ€™ve just activated a dormant narrative."]},{id:5,lang:"fr",title:"RITUEL Dâ€™ASSEMBLAGE",steps:["Cueille trois Ã©lÃ©ments du sol, insignifiants mais prÃ©cis.","Assemble-les selon une intuition ou un geste spontanÃ©.","Donne un nom Ã  ce talisman : fonction, souvenir, sort.","Porte-le sur toi pendant ton dÃ©placement.","En fin de trajet, enterre-le, ou laisse-le en offrande."]},{id:5,lang:"en",title:"ASSEMBLY RITUAL",steps:["Gather three ground-level elements â€” insignificant yet precise.","Assemble them by intuition or spontaneous gesture.","Name this talisman: function, memory, spell.","Carry it with you during your movement.","At the end of your path, bury it or offer it as a gift."]},{id:6,lang:"fr",title:"LANGAGE DES GESTES",steps:["Observe les gestes rÃ©currents des passants.","Choisis-en un. Imite-le discrÃ¨tement dans ton propre corps.","Compose une phrase gestuelle de trois mouvements.","Danse-la en silence dans un lieu public.","Puis redeviens transparentÂ·e."]},{id:6,lang:"en",title:"GESTURAL LANGUAGE",steps:["Observe recurring gestures in passersby.","Choose one. Imitate it subtly in your own body.","Compose a gestural sentence of three movements.","Dance it in silence in a public space.","Then return to transparency."]},{id:7,lang:"fr",title:"TRANSMISSION",steps:["Enregistre le son ambiant de ta position.","Croise une personne avec casque ou Ã©couteurs.","Devine ce quâ€™elle Ã©coute selon sa dÃ©marche.","Tente un Ã©change simple : regard, sourire, mot.","Envoie ton propre son Ã  unÂ·e inconnuÂ·e. Capsule transmise."]},{id:7,lang:"en",title:"TRANSMISSION",steps:["Record the ambient sound of your location.","Cross paths with someone wearing headphones.","Guess what theyâ€™re listening to by their stride.","Attempt a simple exchange: glance, smile, word.","Send your sound to a stranger. Capsule transmitted."]}],T=["/audio/huburnulation.mp3","/audio/ultrafiliation.mp3","/audio/surespirable.mp3","/audio/resistransition.mp3","/audio/resistransition.mp3","/audio/predisparadis.mp3"];function _(){const{lat:d,lon:l,label:a,method:u}=M(),[e,o]=n.useState([]),p=n.useRef(null),c=n.useRef(null),[q,j]=n.useState(""),[w,A]=n.useState("loading"),[v,y]=n.useState(null),[S,x]=n.useState(null),[G,b]=n.useState(!1),[D,E]=n.useState(!1),O=typeof navigator<"u"&&navigator.language?.toLowerCase().startsWith("fr"),h=P.filter(t=>t.lang===(O?"fr":"en")).map(t=>`${t.id}. ${t.title}
* ${t.steps.join(`
* `)}`),N=t=>{if(t.key==="Enter"){const r=t.target.value.trim().toLowerCase();let i="";switch(r){case"help":i="Available commands: help, play, pause, map, locate, clear";break;case"play":c.current?.play(),i="â–¶ Playing audio...";break;case"pause":c.current?.pause(),i="â¸ Audio paused.";break;case"map":b(!0),E(!1),i="ðŸ—ºï¸ Displaying world map...";break;case"locate":b(!0),E(!0),i="ðŸ” Centering map on your position...";break;case"clear":o([]),t.target.value="";return;default:i=`Command not found: ${r}`}o(f=>[...f,`> ${r}`,i]),t.target.value=""}};return n.useEffect(()=>{p.current?.focus()},[]),n.useEffect(()=>{const t=h[Math.floor(Math.random()*h.length)];j(t)},[]),n.useEffect(()=>{const t=setTimeout(()=>{A("ready")},3e3);return()=>clearTimeout(t)},[a,u]),n.useEffect(()=>{const t=new Date().toISOString().slice(0,10),r=JSON.parse(localStorage.getItem("dailySeed"));if(r&&r.date===t)x(r.instructionIndex),y(r.musicIndex);else{const i=Math.floor(Math.random()*h.length),f=Math.floor(Math.random()*T.length);localStorage.setItem("dailySeed",JSON.stringify({date:t,instructionIndex:i,musicIndex:f})),x(i),y(f)}},[]),s.jsxs("div",{className:"term-o-rama",children:[s.jsx("img",{src:"/title_ascii.png",className:"img_title"}),s.jsxs("div",{className:"central-row",children:[s.jsx("img",{src:"/qr/uptonpark.png",alt:"QR code",className:"qr-code"}),s.jsx("div",{className:"loading-text",children:w==="loading"?s.jsxs(s.Fragment,{children:["Loading location",s.jsx("span",{className:"dots"})]}):s.jsxs(s.Fragment,{children:["ðŸ“ Location: ",a||"Unknown"," (",u,")"]})})]}),s.jsx("div",{className:"random-instruction",children:S!==null&&h[S]}),e.map((t,r)=>s.jsx("div",{className:"output-line",children:t},r)),s.jsx("input",{ref:p,type:"text",className:"cli",placeholder:"> type play to start music or help for commands",onKeyDown:N}),v!==null&&s.jsx("audio",{autoPlay:!0,loop:!0,hidden:!0,ref:c,children:s.jsx("source",{src:T[v],type:"audio/mp3"})}),s.jsx(k,{})]})}export{_ as default};
