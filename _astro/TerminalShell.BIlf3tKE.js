import{r as n}from"./index.BVOCwoKb.js";var E={exports:{}},h={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A;function $(){if(A)return h;A=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(u,e,o){var m=null;if(o!==void 0&&(m=""+o),e.key!==void 0&&(m=""+e.key),"key"in e){o={};for(var p in e)p!=="key"&&(o[p]=e[p])}else o=e;return e=o.ref,{$$typeof:c,type:u,key:m,ref:e!==void 0?e:null,props:o}}return h.Fragment=i,h.jsx=r,h.jsxs=r,h}var O;function G(){return O||(O=1,E.exports=$()),E.exports}var s=G();function D(){const[c,i]=n.useState(!1),r=4e3,u=2e4;return n.useEffect(()=>{const e=setInterval(()=>{i(!0),setTimeout(()=>i(!1),r)},u);return()=>clearInterval(e)},[]),c?s.jsx("div",{className:"scanline-animated"}):null}function F(){const[c,i]=n.useState({lat:null,lon:null,label:null,method:null});return n.useEffect(()=>{const r=async()=>{try{const e=await(await fetch("https://ipapi.co/json/")).json();i({lat:e.latitude,lon:e.longitude,label:`${e.city}, ${e.country_name}`,method:"ip"})}catch{i({lat:null,lon:null,label:null,method:null})}};if(!navigator.geolocation)return r();navigator.geolocation.getCurrentPosition(u=>{const{latitude:e,longitude:o}=u.coords;i({lat:e,lon:o,label:`${e.toFixed(3)}, ${o.toFixed(3)}`,method:"gps"})},()=>{r()},{timeout:3e3})},[]),c}const U=[{id:1,lang:"fr",title:"POINT AVEUGLE",steps:["Trouve un poste d‚Äôobservation discret ou en hauteur.","Observe les flux, les mouvements, les h√©sitations.","Rep√®re une personne hors tempo, hors cadre.","Ralentis ta respiration jusqu‚Äô√† dispara√Ætre.","Rejoins la foule en silence, comme si de rien n‚Äô√©tait."]},{id:1,lang:"en",title:"BLIND SPOT",steps:["Find a discreet or elevated observation post.","Observe the flows, movements, and hesitations.","Spot someone off-beat, out of frame.","Slow your breathing until you vanish.","Rejoin the crowd in silence, as if nothing happened."]},{id:2,lang:"fr",title:"COULEUR CIBLE",steps:["Choisis une couleur. Marche jusqu‚Äô√† ce qu‚Äôelle apparaisse.","Observe celle ou celui qui la porte. Posture ? Allure ?","Synchronise ton pas sans jamais suivre.","Quand la couleur s‚Äô√©vanouit, capture ce qui reste.","Que dit cette image de toi aujourd‚Äôhui ?"]},{id:2,lang:"en",title:"TARGET COLOR",steps:["Choose a color. Walk until it appears.","Observe the person wearing it. Posture? Pace?","Synchronize your steps without following.","When the color disappears, capture what's left.","What does this image say about you today?"]},{id:3,lang:"fr",title:"R√âP√âTITION FANT√îME",steps:["Avance jusqu‚Äô√† percevoir un motif r√©p√©t√© trois fois.","√Ä chaque √©cho, progresse de 10 m√®tres.","Si le motif cesse, ferme les yeux 30 secondes.","Suis le son le plus pr√©sent, sans r√©fl√©chir.","Arriv√©¬∑e, note ce que ton corps ressent."]},{id:3,lang:"en",title:"GHOST REPETITION",steps:["Walk until you perceive a pattern repeated three times.","With each echo, advance 10 meters.","If the pattern fades, close your eyes for 30 seconds.","Follow the strongest sound, without thinking.","Once arrived, note what your body feels."]},{id:4,lang:"fr",title:"OBJETS PERDUS",steps:["Rep√®re un objet oubli√©, solitaire.","Observe-le longuement, comme une trace.","Invente son histoire, sa derni√®re mission, sa chute.","√âcris une courte fiction ou laisse un message √† c√¥t√©.","Tu viens d‚Äôactiver un r√©cit dormant."]},{id:4,lang:"en",title:"LOST OBJECTS",steps:["Spot a forgotten, solitary object.","Observe it intently, as if a trace.","Invent its story ‚Äî last mission, downfall, abandonment.","Write a short fiction or leave a message nearby.","You‚Äôve just activated a dormant narrative."]},{id:5,lang:"fr",title:"RITUEL D‚ÄôASSEMBLAGE",steps:["Cueille trois √©l√©ments du sol, insignifiants mais pr√©cis.","Assemble-les selon une intuition ou un geste spontan√©.","Donne un nom √† ce talisman : fonction, souvenir, sort.","Porte-le sur toi pendant ton d√©placement.","En fin de trajet, enterre-le, ou laisse-le en offrande."]},{id:5,lang:"en",title:"ASSEMBLY RITUAL",steps:["Gather three ground-level elements ‚Äî insignificant yet precise.","Assemble them by intuition or spontaneous gesture.","Name this talisman: function, memory, spell.","Carry it with you during your movement.","At the end of your path, bury it or offer it as a gift."]},{id:6,lang:"fr",title:"LANGAGE DES GESTES",steps:["Observe les gestes r√©currents des passants.","Choisis-en un. Imite-le discr√®tement dans ton propre corps.","Compose une phrase gestuelle de trois mouvements.","Danse-la en silence dans un lieu public.","Puis redeviens transparent¬∑e."]},{id:6,lang:"en",title:"GESTURAL LANGUAGE",steps:["Observe recurring gestures in passersby.","Choose one. Imitate it subtly in your own body.","Compose a gestural sentence of three movements.","Dance it in silence in a public space.","Then return to transparency."]},{id:7,lang:"fr",title:"TRANSMISSION",steps:["Enregistre le son ambiant de ta position.","Croise une personne avec casque ou √©couteurs.","Devine ce qu‚Äôelle √©coute selon sa d√©marche.","Tente un √©change simple : regard, sourire, mot.","Envoie ton propre son √† un¬∑e inconnu¬∑e. Capsule transmise."]},{id:7,lang:"en",title:"TRANSMISSION",steps:["Record the ambient sound of your location.","Cross paths with someone wearing headphones.","Guess what they‚Äôre listening to by their stride.","Attempt a simple exchange: glance, smile, word.","Send your sound to a stranger. Capsule transmitted."]}],_=[[48,81783,2,40700],[48,88584,2,34505],[48,84927,2,35691]],J=[[37.9974647,23.7368407]],B=[[52.49483162160716,13.446911212224357]],N={Paris:_,Athenes:J,Berlin:B},C=["/audio/huburnulation.mp3","/audio/ultrafiliation.mp3","/audio/surespirable.mp3","/audio/resistransition.mp3","/audio/resistransition.mp3","/audio/predisparadis.mp3"];function X(){const{lat:c,lon:i,label:r,method:u}=F(),[e,o]=n.useState([]),m=n.useRef(null),p=n.useRef(null),[W,L]=n.useState(""),[M,k]=n.useState("loading"),[R,I]=n.useState(null),[T,j]=n.useState(null),[Y,H]=n.useState(!1),[Q,V]=n.useState(!1),P=typeof navigator<"u"&&navigator.language?.toLowerCase().startsWith("fr"),f=U.filter(t=>t.lang===(P?"fr":"en")).map(t=>`${t.id}. ${t.title}
* ${t.steps.join(`
* `)}`),q=t=>{if(t.key==="Enter"){const l=t.target.value.trim().toLowerCase();let a="";switch(l){case"help":a="Available commands: help, play, pause, map, locate, floxpox, clear";break;case"floxpox":a="https://websim.com/@HyperTransit/esoteric-terminal/7";break;case"play":p.current?.play(),a="‚ñ∂ Playing audio...";break;case"pause":p.current?.pause(),a="‚è∏ Audio paused.";break;case"map":a=Object.entries(N).map(([S,b])=>{const v=b.map(([y,x])=>`${y.toFixed(4)}, ${x.toFixed(4)}`);return`[${S}]
`+v.join(`
`)}).join(`

`);break;case"locate":if(!c||!i){a="‚è≥ Location not ready.";break}let d=null,g=null,w=1/0;for(const[S,b]of Object.entries(N))for(const[v,y]of b){const x=Math.sqrt(Math.pow(v-c,2)+Math.pow(y-i,2));x<w&&(w=x,d=S,g=[v,y])}d&&g?a=`[${d}]
${g[0]}, ${g[1]}`:a="‚ùå No locations available.";break;case"clear":o([]),t.target.value="";return;default:a=`Command not found: ${l}`}o(d=>[...d,`> ${l}`,a]),t.target.value=""}};return n.useEffect(()=>{m.current?.focus()},[]),n.useEffect(()=>{const t=f[Math.floor(Math.random()*f.length)];L(t)},[]),n.useEffect(()=>{const t=setTimeout(()=>{k("ready")},3e3);return()=>clearTimeout(t)},[r,u]),n.useEffect(()=>{const t=new Date().toISOString().slice(0,10),l=JSON.parse(localStorage.getItem("dailySeed"));if(l&&l.date===t)j(l.instructionIndex),I(l.musicIndex);else{const a=Math.floor(Math.random()*f.length),d=Math.floor(Math.random()*C.length);localStorage.setItem("dailySeed",JSON.stringify({date:t,instructionIndex:a,musicIndex:d})),j(a),I(d)}},[]),s.jsxs("div",{className:"term-o-rama",children:[s.jsx("img",{src:"/title_ascii.png",className:"img_title"}),s.jsxs("div",{className:"central-row",children:[s.jsx("img",{src:"/qr/uptonpark.png",alt:"QR code",className:"qr-code"}),s.jsx("div",{className:"loading-text",children:M==="loading"?s.jsxs(s.Fragment,{children:["Loading location",s.jsx("span",{className:"dots"})]}):s.jsxs(s.Fragment,{children:["üìç Location: ",r||"Unknown"," (",u,")"]})})]}),s.jsx("div",{className:"random-instruction",children:T!==null&&f[T]}),e.map((t,l)=>s.jsx("div",{className:"output-line",children:t},l)),s.jsx("input",{ref:m,type:"text",className:"cli",placeholder:"> type play to start music or help for commands",onKeyDown:q}),R!==null&&s.jsx("audio",{autoPlay:!0,loop:!0,hidden:!0,ref:p,children:s.jsx("source",{src:C[R],type:"audio/mp3"})}),s.jsx(D,{})]})}export{X as default};
