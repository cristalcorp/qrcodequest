import{r}from"./index.BVOCwoKb.js";var f={exports:{}},m={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x;function E(){if(x)return m;x=1;var u=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function s(n,e,t){var c=null;if(t!==void 0&&(c=""+t),e.key!==void 0&&(c=""+e.key),"key"in e){t={};for(var i in e)i!=="key"&&(t[i]=e[i])}else t=e;return e=t.ref,{$$typeof:u,type:n,key:c,ref:e!==void 0?e:null,props:t}}return m.Fragment=o,m.jsx=s,m.jsxs=s,m}var v;function b(){return v||(v=1,f.exports=E()),f.exports}var a=b();function k(){const[u,o]=r.useState(!1),s=4e3,n=2e4;return r.useEffect(()=>{const e=setInterval(()=>{o(!0),setTimeout(()=>o(!1),s)},n);return()=>clearInterval(e)},[]),u?a.jsx("div",{className:"scanline-animated"}):null}function g(){const[u,o]=r.useState({lat:null,lon:null,label:null,method:null});return r.useEffect(()=>{const s=async()=>{try{const e=await(await fetch("https://ipapi.co/json/")).json();o({lat:e.latitude,lon:e.longitude,label:`${e.city}, ${e.country_name}`,method:"ip"})}catch{o({lat:null,lon:null,label:null,method:null})}};if(!navigator.geolocation)return s();navigator.geolocation.getCurrentPosition(n=>{const{latitude:e,longitude:t}=n.coords;o({lat:e,lon:t,label:`${e.toFixed(3)}, ${t.toFixed(3)}`,method:"gps"})},()=>{s()},{timeout:3e3})},[]),u}const R=["« Le silence est fait de paroles que l’on n’a pas dites. » – Marcel Pagnol","« Celui qui a déplacé la montagne, c’est celui qui a commencé par enlever les petites pierres. » – Confucius","« Le réel est toujours poétique. » – Christian Bobin","« Tout est possible à celui qui rêve, ose, travaille et n’abandonne jamais. » – Xavier Dolan","« Art is the lie that enables us to realize the truth. » – Pablo Picasso"];function T(){const{lat:u,lon:o,label:s,method:n}=g(),[e,t]=r.useState([]),c=r.useRef(null),i=r.useRef(null),j=d=>{if(d.key==="Enter"){const p=d.target.value.trim().toLowerCase();let l="";switch(p){case"help":l="Available commands: help, play, pause, read, locate, clear";break;case"play":i.current?.play(),l="▶ Playing audio...";break;case"pause":i.current?.pause(),l="⏸ Audio paused.";break;case"read":l=R[Math.floor(Math.random()*R.length)];break;case"locate":s?l=`📍 Location: ${s} (${n})`:l="⏳ Detecting location...";break;case"clear":t([]),d.target.value="";return;default:l=`Command not found: ${p}`}t(h=>[...h,`> ${p}`,l]),d.target.value=""}};return r.useEffect(()=>{c.current?.focus()},[]),a.jsxs("div",{className:"term-o-rama",children:[a.jsx("div",{className:"title",children:"Activate Cities"}),a.jsxs("div",{className:"central-row",children:[a.jsx("img",{src:"/qr/kirikoo.png",alt:"QR code",className:"qr-code"}),a.jsxs("div",{className:"loading-text",children:["Loading location",a.jsx("span",{className:"dots"})]})]}),e.map((d,p)=>a.jsx("div",{className:"output-line",children:d},p)),a.jsx("input",{ref:c,type:"text",className:"cli",placeholder:"> type a command or help",onKeyDown:j}),a.jsx("audio",{ref:i,autoPlay:!0,hidden:!0,children:a.jsx("source",{src:"/audio/output.mp3",type:"audio/mp3"})}),a.jsx(k,{})]})}export{T as default};
